
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-73216650-1', 'auto');
ga('set', {
  page: '/documentation/1.2.0/user_guide/application_management.html',
  title: 'Application(s) management'
});
ga('send', 'pageview');

</script>

<div class="container">
  <div class="row">
    
      <div class="col-md-3">
        <div id="sidebar_menu" class="tree" role="complementary"></div>
      </div>
      <div id="content" class="col-md-9">
    
        <div style="height: 50px;">
          <h1 class="pull-left" style="margin-top: 0px;">Application(s) management</h1>
          <a class="btn btn-primary pull-right" href="http://prose.io/#alien4cloud/alien4cloud.github.io/edit/sources/documentation/1.2.0/user_guide/application_management.md"><i class="fa fa-pencil-square-o"></i> Edit (pull request)</a>
        </div>
        
<hr style="margin-top:5px; margin-bottom:5px;" />
<div class="row"><ul class="nav nav-pills" id="summarypanel"></ul></div>
<hr style="margin-top:5px; margin-bottom:5px;" />

<div class="note info">
<p>To understand the application concept, please refer to <a href="#/documentation/1.1.0/concepts/applications.html">this section</a>.</p>
</div>

<h1 id="create-new-application">Create new application</h1>

<p>To create an application, go in the <em>application</em> list page and click on the <em>New application</em>
button. You can directly create an application from a topology template if you have one.</p>

<p><a href="../../images/user_guide/application/create-new-application.png"><img src="../../images/user_guide/application/create-new-application.png" alt="Create new application" /></a></p>

<h1 id="configure-versions">Configure versions</h1>

<p>In the <em>version</em> page you can create, edit or delete a version. As we already say in the application concept page, if you remove the ‘SNAPSHOT’ qualifier, your version will be released and the associated topology not editable.</p>

<p><a href="../../images/user_guide/application/application-version-management.png"><img src="../../images/user_guide/application/application-version-management.png" alt="Versions management page" /></a></p>

<h1 id="configure-environments">Configure environments</h1>

<p>In the <em>environment</em> management page you can create, edit or delete an environment. The version and the cloud are the most important informations.</p>

<div class="note warning">
<p>An environment cannot be deleted when it’s application is still deploy.</p>
</div>

<p><a href="../../images/user_guide/application/application-environment-management.png"><img src="../../images/user_guide/application/application-environment-management.png" alt="Environments management page" /></a></p>

<h1 id="manage-roles">Manage roles</h1>

<h2 id="applications-roles">Application’s roles</h2>

<p>These roles defines actions allowed by <em>role</em> on a given application :</p>

<table class="table table-bordered">
  <thead>
    <tr>
      <th style="text-align: left">Role</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">APPLICATION_MANAGER</td>
      <td style="text-align: left">Application manager can manage the application configuration, it’s versions and environments as well as user management for the application.</td>
    </tr>
    <tr>
      <td style="text-align: left">APPLICATION_DEVOPS</td>
      <td style="text-align: left">Dev ops role should be given to the applications developer. In ALIEN users with devops role on an application can edit the topologies of every SNAPSHOT versions.</td>
    </tr>
  </tbody>
</table>

<p>In addition to the applications roles, Application manager can specify some roles related to every single environment defined for the application.</p>

<h2 id="environments-roles">Environment’s roles</h2>

<p>These roles defines actions allowed by <em>role</em> on a given environment :</p>

<table class="table table-bordered">
  <thead>
    <tr>
      <th style="text-align: left">Role</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">APPLICATION_USER</td>
      <td style="text-align: left">An application user on an environment is allowed to see the environment status as well as having access to the deployment output properties.</td>
    </tr>
    <tr>
      <td style="text-align: left">DEPLOYMENT_MANAGER</td>
      <td style="text-align: left">Deployment manager for an environment is responsible for configuration and deployment/undeployment of an environment. In order to be able to deploy/undeploy the environment the user must also have a DEPLOYER role on the location on which he wants to deploy. DEPLOYER role is configured on the location configuration by any user having the global ADMIN role.</td>
    </tr>
  </tbody>
</table>

<h1 id="advanced-inputs">Advanced inputs</h1>

<p>This section describe how you can use internal variables defined in <strong>location</strong> or <strong>application</strong>. Those parameters
could be used as inputs for node template’s or capabilities’ properties.</p>

<p>Our target for this feature is to allow internal prefixes to target meta-properties over different elements :</p>

<table class="table table-bordered">
  <thead>
    <tr>
      <th style="text-align: left">Targeted element</th>
      <th style="text-align: left">Internal prefix</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><em>location</em></td>
      <td style="text-align: left"><code>loc_meta_</code></td>
      <td style="text-align: left">Target <em>meta-properties</em> defined on a location</td>
    </tr>
    <tr>
      <td style="text-align: left"><em>application</em></td>
      <td style="text-align: left"><code>app_meta_</code> , <code>app_tags_</code></td>
      <td style="text-align: left">Target <em>meta-properties</em> or <em>tags</em> defined on an application</td>
    </tr>
  </tbody>
</table>

<h2 id="define-a-property-as-an-internal-input">Define a property as an internal input</h2>

<p>When you define a topology, you may want to define some node properties as inputs. An input is
by default a value required to the user in order complete the topology and deploy.</p>

<p><img src="../../images/user_guide/user_guide_topology_template_properties.png" alt="Compute properties" /><br /></p>

<p>You can define any property as input and then set its value in the deployment page or indicate
that the input is bound to an internal variable defined on a <em>location</em> or the <em>application</em> for example.The name syntax of an internal input is:  </p>

<p><code>&lt;INTERNAL_PREFIX&gt;&lt;TARGET_PROPERTY&gt;</code>  </p>

<p>where <em>TARGET_PROPERTY</em> can be a tag’s or a meta property’s name.</p>

<p>For example, let’s say that we want to use one of the meta properties defined on our application : <strong>target_client</strong>
First, we set the wanted property as an input. This will leads to the creation of a new input named after the property’s name.<br />
Then we have to rename the created input following the above syntax, and using the application meta prefix: <code>app_meta_</code><strong>target_client</strong></p>

<p><img src="../../images/user_guide/user_guide_topology_template_properties_input.png" alt="Properties input on application metaproperties" /><br /></p>

<p>If you have some tags or meta-properties defined on your location, same syntax :</p>

<ul>
  <li><code>loc_meta_</code><strong>MYAPP_META1</strong></li>
  <li><code>loc_meta_</code><strong>MYAPP_META2</strong></li>
  <li><code>app_tags_</code><strong>MYAPP_TAG1</strong></li>
  <li><code>app_tags_</code><strong>MYAPP_TAG2</strong></li>
</ul>

<div class="note warning">
<h5>Meta property naming</h5>
<p><strong>Note :</strong> avoid dot <code>.</code> character in you meta-property name (e.g. my.meta.1)</p>
<h5>Missing values</h5>
<p>We have two possible cases regarding an input and the targeted meta-property :</p>

<ul>
  <li><strong>requirted</strong> property : if the provided value doesn’t exist as input the property will stay marked as <strong>missing</strong> and the topology not deployable</li>
  <li><strong>optional</strong> property : if the provided value doesn’t exist you will have a <code>warning</code> but the deployment will still be possible</li>
</ul>
</div>

<p>In fact, the deployment steps will help you handle <em>warnings</em> and <em>tasks</em> for a good deployment setup.</p>

<h1 id="deploy-your-application">Deploy your application</h1>

<p>To deploy an application you need to setup the context, you can do this in the <code>Applications &gt; Deployments</code> sub-menu.<br />
The deployment setup is done by going through a number of hierarchical steps.
Each step perform a validation of the deployment topology, and errors details are displayed. Note that you can not go to the next step  when the current one is still not valid.</p>

<h2 id="location-selection">Location selection</h2>
<p>The first thing to do is to select, among the displayed location, the one on which you would like to deploy.
 The proposed locations are determined by matching every existing location against the topology, done by a matcher plugin.  </p>

<p><a href="../../images/user_guide/application/deployment/user_guide_deployment_setup.png"><img src="../../images/user_guide/application/deployment/user_guide_deployment_setup.png" alt="Configure your deployment" /></a></p>

<p>For now, note that if no matching plugin is configured by the administrator, a default matcher is used, checking the following:</p>

<ul>
  <li>The orchestrator managing a location can support all the artifacts contains in your topology (nodes and relationships implementations scripts)</li>
  <li>The current user have sufficient rights to deploy on the location</li>
</ul>

<h2 id="node-substitution-">Node substitution :</h2>

<p>Next step is to substitute some abstract nodes from your topology with resources provided by the selected location.<br />
In the meantime, you can edit some properties if you need to.</p>

<p><a href="../../images/user_guide/application/deployment//user_guide_deployment_setup_substitution.png"><img src="../../images/user_guide/application/deployment/user_guide_deployment_setup_substitution.png" alt="Node substitution" /></a></p>

<h2 id="inputs-properties-and-artifacts">Inputs: properties and artifacts</h2>

<p>Here you set values to inputs and provider deployments properties. Also, you can upload artifacts set as input in the topology.</p>

<p>Here you need to select the value for your <code>inputs</code>. If they are some missing configuration in your topology, a <code>todo list</code> will be displayed.</p>

<p><a href="../../images/user_guide/application/deployment/user_guide_deployment_setup_inputs.png"><img src="../../images/user_guide/application/deployment/user_guide_deployment_setup_inputs.png" alt="Deployment inputs" /></a></p>

<p>Once all those steps are valid, the <em>deploy</em> step is unlocked, and if your topology is valid and ready for deployment, you can hit the deploy button to proceed.</p>

<h1 id="runtime-view">Runtime view</h1>

<p>On this submenu view <code>Application &gt; Runtime</code>, you can have the detailed deployment
progress.</p>

<p><img src="../../images/user_guide/user_guide_topology_template_runtime.png" alt="Wordpress url" /></p>

<div class="note info">
<p>The previous picture was taken during a Wordpress deployement, to deploy your own Wordpress, please refer to <a href="#/documentation/1.1.0/getting_started/getting_started.html">this section</a>.</p>
</div>

        <a class="btn btn-primary pull-right" href="http://prose.io/#alien4cloud/alien4cloud.github.io/edit/sources/documentation/1.2.0/user_guide/application_management.md"><i class="fa fa-pencil-square-o"></i> Edit (pull request)</a>
	  </div>
    </div>
  </div>
</div><!-- /container -->
<script>
var hash = location.hash.replace( /^#/, '' );
if(hash && hash!== null && hash.match(/html$/)) {
} else {
  var newLocation = location.protocol+"//"+location.host+"#"+location.pathname;
  location.replace(newLocation);
}
</script>
<script type="text/javascript" src="/js/post-layout.js"></script>
<script>
$(document).ready(function () {
  makeSideBar('DOCUMENTATION-1.2.0', 'documentation/1.2.0/user_guide/application_management.md');
});
</script>

<script>
$("div[data-gist]").gist();
</script>
