
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-73216650-1', 'auto');
ga('set', {
  page: '/documentation/1.4.0/user_guide/services_management.html',
  title: 'Services management'
});
ga('send', 'pageview');

</script>

<div class="container-fluid">
  <div class="row">
    
      <div class="col-sm-4 col-md-3">
        <div id="sidebar_menu" class="tree" role="complementary"></div>
      </div>
      <div id="content" class="col-sm-8 col-md-9">
    
        <div style="height: 50px;">
          <h1 class="pull-left" style="margin-top: 0px;">Services management</h1>
          <a class="btn btn-primary pull-right" href="http://prose.io/#alien4cloud/alien4cloud.github.io/edit/sources/documentation/1.4.0/user_guide/services_management.md"><i class="fa fa-pencil-square-o"></i> Edit (pull request)</a>
        </div>
        
<hr style="margin-top:5px; margin-bottom:5px;" />
<div class="row"><ul class="nav nav-pills" id="summarypanel"></ul></div>
<hr style="margin-top:5px; margin-bottom:5px;" />

<p><em>Section in progress&#8230;</em></p>

<p>Services in alien4cloud design any already running resource (databases, application providing an API etc.) that can be used by the applications through matching of abstract nodes (just like on demand resources).</p>

<p>The fundamental difference between service and on-demand resource is the ownership of the resource lifecycle, while on-demand resources lifecycle is managed by the consuming application services are elements external to the application but yet consumed by the application in order to work.</p>

<p>For example you may have an on-demand database which will be created when you deploy the application and (eventually) deleted when the application will be un-deployed.</p>

<p>When using a service you expect someone else to start the service (either externally to alien4cloud or through an alien deployment) and just consume it. In any case you will not be the owner of the service lifecycle.</p>

<h1 id="referencing-external-services-in-alien4cloud">Referencing external services in alien4cloud</h1>

<p>The first way to define a service in alien4cloud is to</p>

<h1 id="turning-deployments-into-services">Turning deployments into services</h1>

<p>Turning deployments into services is usually done by the deployment manager of the application environment. Information on how to turn a deployment into a service can be found here.</p>

<p>LIMITATIONS:
 - Services substitution does not yet supports the exposure of multiple instances. Output properties cannot reference properties of scaled instances.
 - Input properties are used both for topology input and deployment inputs. Users should handle connection to services using capabilities only properties/attributes and eventually node attributes but not node properties.</p>

<h1 id="example">Example</h1>

<p>In our samples, import the type <a href="https://github.com/alien4cloud/samples/tree/master/mongo">mongo</a>. It comes with a topology template <em>mongod-type</em> that defines a simple topology containing a MongoDB hosted on a Compute.</p>

<p>This template is exposed as a type named <em>mongod-type</em> using substitution exposition.</p>

<p>Create a new application <em>MongoAsAService</em> using this topology template and deploy it. It will ouputs the <em>ip_address</em> and <em>port</em> of your MongoDB.</p>

<p>In Administration / Services create a service named <em>MongoService</em> using the <em>mongod-type</em>. Fill it&#8217;s attributes <em>ip_address</em> and <em>port</em> using those given by your deployment.
Start the service.</p>

<p>You must add a location to be able to match the service in another deployment.</p>

<p>We&#8217;ll now create another topology that will leverage this service. In the template <a href="https://github.com/alien4cloud/samples/tree/master/topology-nodecellar-service">topology-nodecellar-service</a> you&#8217;ll find a topology template <em>Nodecellar-ClientService</em> that use the abstract type <em>alien.nodes.AbstractMongod</em> for the mongoDb node. Create an application using this template. You&#8217;ll be able to match this node to the recently started service.</p>

        <a class="btn btn-primary pull-right" href="http://prose.io/#alien4cloud/alien4cloud.github.io/edit/sources/documentation/1.4.0/user_guide/services_management.md"><i class="fa fa-pencil-square-o"></i> Edit (pull request)</a>
	  </div>
    </div>
  </div>
</div><!-- /container -->

<script>
var hash = location.hash.replace( /^#/, '' );
if(hash && hash!== null && hash.match(/html$/)) {
} else {
  var newLocation = location.protocol+"//"+location.host+"#"+location.pathname;
  location.replace(newLocation);
}
</script>
<script type="text/javascript" src="/js/post-layout.js"></script>
<script>
$(document).ready(function () {
  makeSideBar('DOCUMENTATION-1.4.0', 'documentation/1.4.0/user_guide/services_management.md');
});
</script>

<script>
$("div[data-gist]").gist();
</script>
